name: ğŸ§ª Test

permissions:
  contents: read

on:
  pull_request:
    paths:
      - .github/workflows/test.yml
      - "packages/**"
      - "*.config.*"
      - package.json

jobs:
  test:
    name: ğŸ§ª Run Tests
    runs-on: ubuntu-24.04
    steps:
      - name: ğŸ“¥ Checkout Repository
        uses: actions/checkout@v4
      - name: ğŸ› ï¸ Setup Development Environment
        uses: jdx/mise-action@v2
      - name: ğŸ“¦ Install Dependencies
        run: bun install
      - name: ğŸ§ª Run Unit Tests
        run: bun test
      - name: ğŸ” Type Check All Packages
        run: |
          bun typecheck:infra
          bun typecheck:k8s
          bun typecheck:routes